(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,function(e,t,i){e.exports=i(16)},,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n,s=i(6),a=i(0),r=i(1);function l(e){switch(e){case n.Blue:return 50;case n.Yellow:return 60;case n.Green:return 70;case n.Red:return 90}}function h(e){switch(e){case n.Blue:return n.Yellow;case n.Yellow:return n.Green;case n.Green:case n.Red:return n.Red}}!function(e){e[e.Blue=0]="Blue",e[e.Yellow=1]="Yellow",e[e.Green=2]="Green",e[e.Red=3]="Red"}(n||(n={}));var u=function(){function e(t,i){Object(a.a)(this,e),this.x=t,this.y=i}return Object(r.a)(e,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}}]),e}(),o=function(){function e(t,i,n,s){Object(a.a)(this,e),this.x=t,this.y=i,this.width=n,this.height=s}return Object(r.a)(e,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getTop",value:function(){return this.y}},{key:"getLeft",value:function(){return this.x}},{key:"getBottom",value:function(){return this.y+this.height}},{key:"getRight",value:function(){return this.x+this.width}},{key:"getCenterX",value:function(){return this.width/2+this.x}},{key:"getCenterY",value:function(){return this.height/2+this.y}},{key:"getCenter",value:function(){return new u(this.getCenterX(),this.getCenterY())}},{key:"move",value:function(t,i){return new e(t,i,this.width,this.height)}},{key:"intersects",value:function(e){return!(this.getBottom()<=e.getBottom())&&(!(this.getTop()>=e.getTop())&&(!(this.getRight()<=e.getLeft())&&!(this.getLeft()>=e.getRight())))}},{key:"contains",value:function(e,t){var i=e>=this.x&&e<=this.getRight(),n=t>=this.y&&t<=this.getBottom();return i&&n}}]),e}();o.EMPTY=new o(0,0,0,0);var c=function(){function e(t,i){Object(a.a)(this,e),this.defsEl=void 0,this.defsEl=t.createElementNS("http://www.w3.org/2000/svg","defs"),i.appendChild(this.defsEl),this.createRadialGradient(this.makeGradient(t,e.CSS_BODY_YELLOW,"#F2F75D","#CACF00")),this.createRadialGradient(this.makeGradient(t,e.CSS_BODY_RED,"#E88792","#D50100")),this.createRadialGradient(this.makeGradient(t,e.CSS_BODY_GREEN,"#94FB4A","#47CE0F")),this.createRadialGradient(this.makeGradient(t,e.CSS_BODY_BLUE,"#6B9CE9","#0348C9")),this.createRadialGradient(this.makeGradient(t,e.CSS_BULLET,"rgb(204, 149, 230)","rgb(238, 216, 249)"))}return Object(r.a)(e,[{key:"createRadialGradient",value:function(e){this.defsEl.appendChild(e)}},{key:"makeGradient",value:function(e,t,i,n){var s=e.createElementNS("http://www.w3.org/2000/svg","radialGradient");s.id=t,s.cx.baseVal.valueAsString="0%",s.cy.baseVal.valueAsString="0%",s.fx.baseVal.valueAsString="30%",s.fy.baseVal.valueAsString="30%",s.r.baseVal.valueAsString="100%";var a=e.createElementNS("http://www.w3.org/2000/svg","stop");s.appendChild(a),a.offset.baseVal=0,a.style.stopColor=i;var r=e.createElementNS("http://www.w3.org/2000/svg","stop");return s.appendChild(r),r.offset.baseVal=100,r.style.stopColor=n,s}}]),e}();function d(e,t,i,n){e.style.stroke=t,e.style.strokeWidth=i.toString(),e.style.fill=n}function g(e,t,i,n,s){e.cx.baseVal.value=t,e.cy.baseVal.value=i,e.rx.baseVal.value=n,e.ry.baseVal.value=s}c.CSS_BODY_YELLOW="body_grad_yellow",c.CSS_BODY_RED="body_grad_red",c.CSS_BODY_GREEN="body_grad_green",c.CSS_BODY_BLUE="body_grad_blue",c.CSS_BULLET="bullet";var v,f=function(){function e(t,i,n,s){Object(a.a)(this,e),this.parent=t,this.boundingBox=o.EMPTY,this.group=void 0,this.headElement=void 0,this.leftEyeElement=void 0,this.rightEyeElement=void 0,this.leftPupilElement=void 0,this.rightPupilElement=void 0,this.blinkLeft=void 0,this.blinkRight=void 0,this.animateSequence=0,this.isGrowing=!0,this.bubbleType=void 0,this.destroyed=!1,this.skipCount=0,this.bubbleType=n,this.group=document.createElementNS("http://www.w3.org/2000/svg","g"),this.group.id="bubble-".concat(s),this.headElement=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),this.headElement.id="head-".concat(s),this.headElement.style.cursor="pointer",this.leftEyeElement=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),this.leftEyeElement.id="left-eye-".concat(s),this.rightEyeElement=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),this.rightEyeElement.id="right-eye-".concat(s),this.leftPupilElement=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),this.leftPupilElement.id="left-pupil-".concat(s),this.rightPupilElement=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),this.rightPupilElement.id="right-pupil-".concat(s),this.blinkLeft=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),this.blinkLeft.id="left-blink-".concat(s),this.blinkRight=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),this.blinkRight.id="right-blink-".concat(s),this.parent.appendChild(this.group),this.group.appendChild(this.headElement),this.group.appendChild(this.leftEyeElement),this.group.appendChild(this.rightEyeElement),this.group.appendChild(this.blinkLeft),this.group.appendChild(this.blinkRight),this.group.appendChild(this.rightPupilElement),this.group.appendChild(this.leftPupilElement),this.animateSequence=s%e.GrowCeiling}return Object(r.a)(e,[{key:"getType",value:function(){return this.bubbleType}},{key:"setType",value:function(e){this.bubbleType=e,this.setBounds(this.boundingBox)}},{key:"addClickHandler",value:function(e){this.headElement.addEventListener("click",e)}},{key:"getRect",value:function(){return this.boundingBox}},{key:"setBounds",value:function(e){var t=l(this.bubbleType)/2,i=l(this.bubbleType)/2;g(this.headElement,e.getCenterX(),e.getCenterY(),t,i),d(this.headElement,"black",5,"url(#".concat(function(e){switch(e){case n.Blue:return"body_grad_blue";case n.Yellow:return"body_grad_yellow";case n.Green:return"body_grad_green";case n.Red:return"body_grad_red"}}(this.bubbleType),")"));var s=.3*t,a=.3*t;g(this.leftEyeElement,e.getCenterX()-t/2,e.getCenterY()-i/1.2,s,a),g(this.blinkLeft,e.getCenterX()-t/2,e.getCenterY()-i/1.2,s,a),d(this.blinkLeft,"#000",3,"#fff"),g(this.leftPupilElement,e.getCenterX()-t/2,e.getCenterY()-i/1.2,s/4,a/4),d(this.leftPupilElement,"#000",3,"#000"),g(this.rightEyeElement,e.getCenterX()+t/2,e.getCenterY()-i/1.2,s,a),g(this.blinkRight,e.getCenterX()+t/2,e.getCenterY()-i/1.2,s,a),g(this.rightPupilElement,e.getCenterX()+t/2,e.getCenterY()-i/1.2,s/4,a/4),d(this.rightPupilElement,"#000",3,"#000"),d(this.blinkRight,"#000",3,"#fff"),this.boundingBox=e}},{key:"move",value:function(e,t){this.setBounds(this.boundingBox.move(e,t))}},{key:"animate",value:function(){this.skipCount++,this.skipCount<6||(this.skipCount=0,this.animateSequence++,this.animateSequence===e.GrowCeiling&&(this.isGrowing=!this.isGrowing,this.animateSequence=0),this.growEl(this.headElement),this.moveEl(this.leftEyeElement),this.moveEl(this.leftPupilElement),this.moveEl(this.blinkLeft),this.moveEl(this.rightEyeElement),this.moveEl(this.rightPupilElement),this.moveEl(this.blinkRight))}},{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,this.group.removeChild(this.headElement),this.group.removeChild(this.leftEyeElement),this.group.removeChild(this.rightEyeElement),this.group.removeChild(this.leftPupilElement),this.group.removeChild(this.rightPupilElement),this.group.removeChild(this.blinkLeft),this.group.removeChild(this.blinkRight),this.parent.removeChild(this.group))}},{key:"growEl",value:function(e){var t=e.ry.baseVal.value;this.isGrowing?t*=1.02:t-=.02*t,e.ry.baseVal.value=t}},{key:"moveEl",value:function(e){var t=e.cy.baseVal.value;this.isGrowing?t-=1:t+=1,e.cy.baseVal.value=t}},{key:"isDestroyed",value:function(){return this.destroyed}}]),e}();f.GrowCeiling=6,function(e){e[e.North=0]="North",e[e.South=1]="South",e[e.East=2]="East",e[e.West=3]="West"}(v||(v={}));var y=function(){function e(t,i){Object(a.a)(this,e),this.parent=t,this.rect=void 0,this.bulletRect=void 0,this.bullet=void 0,this.direction=void 0,this.destroyed=!1,this.bullet=document.createElementNS("http://www.w3.org/2000/svg","ellipse"),this.bullet.id="bullet-".concat(e.bulletIndex++),this.parent.appendChild(this.bullet),this.bullet.style.opacity="0.6",this.direction=v.East,this.rect=o.EMPTY,this.bulletRect=o.EMPTY}return Object(r.a)(e,[{key:"setDirection",value:function(e){this.direction=e}},{key:"getDirection",value:function(){return this.direction}},{key:"getRect",value:function(){return this.rect}},{key:"setBounds",value:function(e){this.rect=e;var t=e.getWidth()/2,i=t/3,n=t/3;this.direction===v.East||this.direction===v.West?i*=1.1:n*=1.1,this.bulletRect=new o(this.rect.getCenterX()-i,this.rect.getCenterY()-n,t,t),g(this.bullet,this.rect.getCenterX(),this.rect.getCenterY(),i,n),d(this.bullet,"black",5,"url(#".concat(c.CSS_BULLET,")"))}},{key:"move",value:function(e,t){this.setBounds(this.rect.move(e,t))}},{key:"animate",value:function(){}},{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,this.parent.removeChild(this.bullet))}},{key:"isDestroyed",value:function(){return this.destroyed}},{key:"moveBy",value:function(e){switch(this.direction){case v.North:this.move(this.rect.getX(),this.rect.getY()-e);break;case v.South:this.move(this.rect.getX(),this.rect.getY()+e);break;case v.East:this.move(this.rect.getX()+e,this.rect.getY());break;case v.West:this.move(this.rect.getX()-e,this.rect.getY())}}},{key:"getBulletRect",value:function(){return this.bulletRect}}]),e}();y.bulletIndex=1;var m,b=function e(t,i){var n=this;Object(a.a)(this,e),this.lower=t,this.upper=i,this.inRange=function(e){return e>=n.lower&&e<n.upper}},p=function e(t,i,n,s,r){Object(a.a)(this,e),this.sparsity=t,this.redRange=i,this.greenRange=n,this.yellowRange=s,this.blueRange=r};!function(e){e[e.Easy=0]="Easy",e[e.Medium=1]="Medium",e[e.Hard=2]="Hard"}(m||(m={}));var w=function(){function e(){Object(a.a)(this,e),this.startTime=null,this.endTime=null}return Object(r.a)(e,[{key:"start",value:function(){this.startTime=new Date}},{key:"elapsed",value:function(){var e=(new Date).getTime()-this.startTime.getTime();return new k(e)}}]),e}(),k=function(){function e(t){Object(a.a)(this,e),this.days=void 0,this.hours=void 0,this.minutes=void 0,this.seconds=void 0,this.days=Math.floor(t/864e5),t-=864e5*this.days,this.hours=Math.floor(t/36e5),t-=36e5*this.hours,this.minutes=Math.floor(t/6e4),t-=6e4*this.minutes,this.seconds=Math.floor(t/1e3),t-=1e3*this.seconds}return Object(r.a)(e,[{key:"toString",value:function(){var e="";return this.days>0&&(e="".concat(this.days," days ")),this.hours>0&&(e+="".concat(this.hours," hours ")),e+="".concat(this.seconds," seconds")}}]),e}(),E=function(){function e(t){Object(a.a)(this,e),this.level=t,this.clicks=0,this.combos=0,this.stopwatch=void 0,this.stopwatch=new w}return Object(r.a)(e,[{key:"click",value:function(){this.clicks++}},{key:"combo",value:function(){this.combos++}},{key:"start",value:function(){this.stopwatch.start()}},{key:"elapsed",value:function(){return this.stopwatch.elapsed()}}]),e}(),C=function(){function e(t,i){Object(a.a)(this,e),this.parent=t,this.gameStats=i,this.group=void 0,this.header=void 0,this.clickCounter=void 0,this.bounds=o.EMPTY,this.group=document.createElementNS("http://www.w3.org/2000/svg","g"),this.header=document.createElementNS("http://www.w3.org/2000/svg","rect"),this.clickCounter=document.createElementNS("http://www.w3.org/2000/svg","text"),this.parent.appendChild(this.group),this.group.appendChild(this.header),this.group.appendChild(this.clickCounter)}return Object(r.a)(e,[{key:"setBounds",value:function(e){this.bounds=e,this.header.x.baseVal.value=e.getX(),this.header.y.baseVal.value=e.getY(),this.header.rx.baseVal.value=15,this.header.width.baseVal.value=e.getWidth(),this.header.height.baseVal.value=e.getHeight(),this.clickCounter.setAttribute("x",String(e.getCenterX())),this.clickCounter.setAttribute("y",String(e.getCenterY())),this.clickCounter.setAttribute("dominant-baseline","middle"),this.clickCounter.setAttribute("text-anchor","middle"),this.clickCounter.style.fontSize="25px",this.clickCounter.style.fontWeight="400",d(this.header,"#222",0,"rgba(255, 255, 255, 0.54)"),d(this.clickCounter,"rgb(131, 117, 149)",1,"rgb(69, 12, 108)")}},{key:"refresh",value:function(){this.clickCounter.textContent="TOUCHES: ".concat(this.gameStats.clicks,", COMBOS: ").concat(this.gameStats.combos)}},{key:"getBounds",value:function(){return this.bounds}},{key:"destroy",value:function(){this.parent.removeChild(this.group)}}]),e}(),S=function(){function e(t,i){Object(a.a)(this,e),this.cols=t,this.rows=i,this.matrix=new Array;for(var n=0;n<t;n++){var s=new Array;this.matrix.push(s);for(var r=0;r<i;r++)s.push(null)}}return Object(r.a)(e,[{key:"set",value:function(e,t,i){this.matrix[e][t]=i}},{key:"get",value:function(e,t){return this.matrix[e][t]}}]),e}(),B=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"generate",value:function(e){for(var t=new S(5,8),i=e.sparsity,n=0;n<5;n++)for(var s=0;s<8;s++)if(!(Math.random()>i)){var a=this.randomBubbleType(e);t.set(n,s,a)}return t}},{key:"randomBubbleType",value:function(e){var t=Math.random(),i=e;return i.redRange.inRange(t)?n.Red:i.yellowRange.inRange(t)?n.Yellow:i.greenRange.inRange(t)?n.Green:i.blueRange.inRange(t)?n.Blue:n.Red}}]),e}(),R=function(){function e(t,i){Object(a.a)(this,e),this.parent=t,this.svg=null,this.gameArea=o.EMPTY,this.boardArea=o.EMPTY,this.background=null,this.provider=null,this.bubbles=new Array,this.bullets=new Array,this.intervalHandle=-1,this.difficulty=e.gameSettings.easy,this.difficultyLevel=m.Easy,this.completeHandler=void 0,this.startHandler=void 0,this.gameStats=void 0,this.header=null,this.gameArea=i,this.boardArea=new o(i.getX(),i.getY()+e.HeaderHeight,i.getWidth(),i.getHeight()-e.HeaderHeight)}return Object(r.a)(e,[{key:"getStats",value:function(){return this.gameStats}},{key:"addCompleteHandler",value:function(e){this.completeHandler=e}},{key:"addStartHandler",value:function(e){this.startHandler=e}},{key:"setDifficultyLevel",value:function(t){switch(this.difficultyLevel=t,t){case m.Easy:this.difficulty=e.gameSettings.easy;break;case m.Medium:this.difficulty=e.gameSettings.medium;break;case m.Hard:this.difficulty=e.gameSettings.hard}this.startHandler&&this.startHandler.call(this.startHandler)}},{key:"getDifficultyLevel",value:function(){return this.difficultyLevel}},{key:"start",value:function(){var t=document.createElement("div");this.gameStats=new E(this.getDifficultyLevel()),this.parent.appendChild(t),this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.width.baseVal.valueAsString="600px",this.svg.height.baseVal.valueAsString="950px",t.appendChild(this.svg),this.provider=new c(document,this.svg),this.header=new C(this.svg,this.gameStats),this.header.setBounds(new o(this.gameArea.getX(),this.gameArea.getY(),this.gameArea.getWidth(),e.HeaderHeight)),this.gameStats.start(),this.initGame()}},{key:"stop",value:function(){window.clearInterval(this.intervalHandle),this.intervalHandle=-1}},{key:"initGame",value:function(){var e=this;if(null!=this.svg&&null!=this.provider){this.intervalHandle>=0&&window.clearInterval(this.intervalHandle);for(var t=(new B).generate(this.difficulty),i=0,n=this.header.getBounds().getHeight(),s=(this.boardArea.getHeight()-(n+20))/t.rows,a=this.boardArea.getWidth()/t.cols,r=0;r<t.cols;r++)for(var l=function(l){var h=t.get(r,l);if(null===h)return"continue";var u=new f(e.svg,e.provider,h,i);u.setBounds(new o(r*a,l*s+(n+20),a,s)),u.addClickHandler((function(){var t;u.isDestroyed()||(null===(t=e.gameStats)||void 0===t||t.click(),e.fire(u))})),e.bubbles.push(u),i++},h=0;h<t.rows;h++)l(h);this.intervalHandle=window.setInterval(this.gameLoop.bind(this),1e3/48)}}},{key:"gameLoop",value:function(){try{this.moveBullets(),this.animateAll(),this.checkForGameEnd(),this.refreshStats()}catch(e){window.clearInterval(this.intervalHandle)}}},{key:"refreshStats",value:function(){var e;null===(e=this.header)||void 0===e||e.refresh()}},{key:"checkForGameEnd",value:function(){0===this.bubbles.length&&0===this.bullets.length&&(this.completeHandler&&this.completeHandler.call(this.completeHandler),clearInterval(this.intervalHandle),this.intervalHandle=-1)}},{key:"moveBullets",value:function(){var e,t,i=this,a=new Array,r=new Array,l=Object(s.a)(this.bullets);try{for(l.s();!(t=l.n()).done;){var u=t.value;u.moveBy(10),this.isOffScreen(u)?(u.destroy(),a.push(u)):function(){var e=i.hasHitBubble(u);if(null!==e){var t,s=e.getType();if(u.destroy(),a.push(u),s===n.Red)r.push(i.createBullet(e.getRect(),v.North)),r.push(i.createBullet(e.getRect(),v.South)),r.push(i.createBullet(e.getRect(),v.East)),r.push(i.createBullet(e.getRect(),v.West)),null===(t=i.gameStats)||void 0===t||t.combo(),e.destroy(),i.bubbles=i.bubbles.filter((function(t){return t!==e}));else e.setType(h(e.getType()));a.push(u)}}()}}catch(g){l.e(g)}finally{l.f()}for(var o=function(){var e=d[c];i.bullets=i.bullets.filter((function(t){return t!==e}))},c=0,d=a;c<d.length;c++)o();(e=this.bullets).push.apply(e,r)}},{key:"animateAll",value:function(){var e,t=Object(s.a)(this.bubbles);try{for(t.s();!(e=t.n()).done;){e.value.animate()}}catch(i){t.e(i)}finally{t.f()}}},{key:"hasHitBubble",value:function(e){var t,i=e.getBulletRect(),n=Object(s.a)(this.bubbles);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.getRect().intersects(i)&&!a.isDestroyed())return a}}catch(r){n.e(r)}finally{n.f()}return null}},{key:"isOffScreen",value:function(e){var t=e.getBulletRect();return!this.boardArea.intersects(t)}},{key:"fire",value:function(e){e.getType()===n.Red?(this.bubbles=this.bubbles.filter((function(t){return t!==e})),this.bullets.push(this.createBullet(e.getRect(),v.North)),this.bullets.push(this.createBullet(e.getRect(),v.South)),this.bullets.push(this.createBullet(e.getRect(),v.East)),this.bullets.push(this.createBullet(e.getRect(),v.West)),e.destroy()):e.setType(h(e.getType()))}},{key:"createBullet",value:function(e,t){var i=new y(this.svg,c.CSS_BODY_RED);return i.setDirection(t),i.setBounds(e),i}}]),e}();R.HeaderHeight=50,R.gameSettings={easy:new p(.6,new b(0,.5),new b(.5,.75),new b(.75,.9),new b(.9,1)),medium:new p(.4,new b(0,.3),new b(.3,.6),new b(.6,.9),new b(.9,1)),hard:new p(.3,new b(0,.2),new b(.2,.4),new b(.4,.7),new b(.7,1))};var O=i(5),H=i.n(O),Y=i(4),j=i(3),A=i(2),T=i.n(A),_=(i(13),function(e){Object(Y.a)(i,e);var t=Object(j.a)(i);function i(){return Object(a.a)(this,i),t.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){var e=this,t=this.props.game.boardArea;return T.a.createElement("div",{style:{width:t.getWidth(),height:t.getHeight()},className:"completed-screen"},T.a.createElement("div",{className:"completed-text"},"Game Completed!"),T.a.createElement("div",{className:"play-again"},T.a.createElement("button",{className:"play-again-button spin-right",onClick:function(){return e.props.onPlayAgain()}},"Play Again")))}}]),i}(T.a.Component)),x=(i(14),function(e){Object(Y.a)(i,e);var t=Object(j.a)(i);function i(){return Object(a.a)(this,i),t.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){var e=this.props.game,t=e.boardArea;return T.a.createElement("div",{style:{width:t.getWidth(),height:t.getHeight()},className:"start-screen"},T.a.createElement("div",{className:"title"},T.a.createElement("h1",null,"Bubble Blast")),T.a.createElement("div",{className:"difficulty"},T.a.createElement("button",{className:"spin-left",onClick:function(){return e.setDifficultyLevel(m.Easy)}},"Easy"),T.a.createElement("button",{className:"spin-right",onClick:function(){return e.setDifficultyLevel(m.Medium)}},"Medium"),T.a.createElement("button",{className:"spin-left",onClick:function(){return e.setDifficultyLevel(m.Hard)}},"Hard")))}}]),i}(T.a.Component)),G=(i(15),document.querySelector("#root")),L=new R(G,new o(0,0,600,950));L.addStartHandler((function(){H.a.unmountComponentAtNode(G),L.start()})),L.addCompleteHandler((function(){var e=new _({game:L,onPlayAgain:N});H.a.render(e.render(),G)}));var N=function(){var e=new x({game:L});H.a.render(e.render(),G)};N()}],[[8,1,2]]]);
//# sourceMappingURL=main.5625254d.chunk.js.map